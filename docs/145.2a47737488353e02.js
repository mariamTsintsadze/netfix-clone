"use strict";(self.webpackChunknetflix_clone_yt=self.webpackChunknetflix_clone_yt||[]).push([[145],{5145:(w,u,o)=>{o.r(u),o.d(u,{PaymentComponent:()=>N});var p=o(6814),i=o(6223),m=o(3519),c=o.n(m),n=o(4769),s=o(7165),_=o(9351);function g(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"Card Number is required."),n.qZA())}function v(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"Card Number must be 16 digits."),n.qZA())}function f(r,a){if(1&r&&(n.TgZ(0,"div",15),n.YNc(1,g,2,0,"span",16),n.YNc(2,v,2,0,"span",16),n.qZA()),2&r){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.cardNumber||null==t.cardNumber.errors?null:t.cardNumber.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.cardNumber||null==t.cardNumber.errors?null:t.cardNumber.errors.pattern)}}function h(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"Card Holder is required."),n.qZA())}function x(r,a){if(1&r&&(n.TgZ(0,"div",15),n.YNc(1,h,2,0,"span",16),n.qZA()),2&r){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.cardHolder||null==t.cardHolder.errors?null:t.cardHolder.errors.required)}}function y(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"Expiration Date is required."),n.qZA())}function b(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"Invalid date format. Use MM/YYYY."),n.qZA())}function P(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"Expiration date has passed."),n.qZA())}function C(r,a){if(1&r&&(n.TgZ(0,"div",15),n.YNc(1,y,2,0,"span",16),n.YNc(2,b,2,0,"span",16),n.YNc(3,P,2,0,"span",16),n.qZA()),2&r){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.expirationDate||null==t.expirationDate.errors?null:t.expirationDate.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.expirationDate||null==t.expirationDate.errors?null:t.expirationDate.errors.invalidDate),n.xp6(1),n.Q6J("ngIf",null==t.expirationDate||null==t.expirationDate.errors?null:t.expirationDate.errors.expired)}}function D(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"CVV is required."),n.qZA())}function Z(r,a){1&r&&(n.TgZ(0,"span"),n._uU(1,"CVV must be 3 digits."),n.qZA())}function T(r,a){if(1&r&&(n.TgZ(0,"div",15),n.YNc(1,D,2,0,"span",16),n.YNc(2,Z,2,0,"span",16),n.qZA()),2&r){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.cvv||null==t.cvv.errors?null:t.cvv.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.cvv||null==t.cvv.errors?null:t.cvv.errors.pattern)}}let N=(()=>{class r{constructor(t,l,e){this.fb=t,this.cartService=l,this.router=e,this.totalPrice=0,this.paymentForm=this.fb.group({cardNumber:["",[i.kI.required,i.kI.pattern("^[0-9]{16}$")]],cardHolder:["",i.kI.required],expirationDate:["",[i.kI.required,this.expirationDateValidator]],cvv:["",[i.kI.required,i.kI.pattern("^[0-9]{3}$")]]}),this.totalPrice=this.cartService.getTotalPrice()}get cardNumber(){return this.paymentForm.get("cardNumber")}get cardHolder(){return this.paymentForm.get("cardHolder")}get expirationDate(){return this.paymentForm.get("expirationDate")}get cvv(){return this.paymentForm.get("cvv")}expirationDateValidator(t){if(!t.value)return null;const l=new Date,[e,d]=t.value.split("/").map(M=>parseInt(M,10));return isNaN(e)||isNaN(d)||e<1||e>12?{invalidDate:!0}:new Date(d,e-1,1)<=l?{expired:!0}:null}goBack(){this.router.navigate(["browse"])}submitPayment(){this.paymentForm.valid?c().fire({text:`Do you want to proceed with the payment of $${this.totalPrice}?`,icon:"success",showCancelButton:!0}).then(t=>{t.isConfirmed&&(this.cartService.clearCart(),this.router.navigate(["/browse"]))}):(this.paymentForm.markAllAsTouched(),c().fire({title:"Error!",text:"Please fill out all required fields.",icon:"warning"}))}static#n=this.\u0275fac=function(l){return new(l||r)(n.Y36(i.qu),n.Y36(s.V),n.Y36(_.F0))};static#e=this.\u0275cmp=n.Xpm({type:r,selectors:[["app-payment"]],standalone:!0,features:[n.jDz],decls:35,vars:14,consts:[[1,"container"],[1,"link",3,"click"],[3,"formGroup","ngSubmit"],[1,"inputs"],["for","cardNumber"],[1,"cont"],["id","cardNumber","formControlName","cardNumber","type","text"],["class","error",4,"ngIf"],["for","cardHolder"],["id","cardHolder","formControlName","cardHolder","type","text"],["for","expirationDate"],["id","expirationDate","formControlName","expirationDate","type","text"],["for","cvv"],["id","cvv","formControlName","cvv","type","text"],["type","submit"],[1,"error"],[4,"ngIf"]],template:function(l,e){1&l&&(n.TgZ(0,"body")(1,"div",0)(2,"a",1),n.NdJ("click",function(){return e.goBack()}),n._uU(3,"Back home"),n.qZA(),n.TgZ(4,"h2"),n._uU(5,"Payment Information"),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.qZA(),n.TgZ(8,"form",2),n.NdJ("ngSubmit",function(){return e.submitPayment()}),n.TgZ(9,"div",3)(10,"label",4),n._uU(11,"Card Number:"),n.qZA(),n.TgZ(12,"div",5),n._UZ(13,"input",6),n.YNc(14,f,3,2,"div",7),n.qZA()(),n.TgZ(15,"div",3)(16,"label",8),n._uU(17,"Card Holder:"),n.qZA(),n.TgZ(18,"div",5),n._UZ(19,"input",9),n.YNc(20,x,2,1,"div",7),n.qZA()(),n.TgZ(21,"div",3)(22,"label",10),n._uU(23,"Expiration Date (MM/YYYY):"),n.qZA(),n.TgZ(24,"div",5),n._UZ(25,"input",11),n.YNc(26,C,4,3,"div",7),n.qZA()(),n.TgZ(27,"div",3)(28,"label",12),n._uU(29,"CVV:"),n.qZA(),n.TgZ(30,"div",5),n._UZ(31,"input",13),n.YNc(32,T,3,2,"div",7),n.qZA()(),n.TgZ(33,"button",14),n._uU(34,"Submit Payment"),n.qZA()()()()),2&l&&(n.xp6(7),n.hij("Total Price: $",e.totalPrice,""),n.xp6(1),n.Q6J("formGroup",e.paymentForm),n.xp6(5),n.ekj("invalid",(null==e.cardNumber?null:e.cardNumber.invalid)&&((null==e.cardNumber?null:e.cardNumber.dirty)||(null==e.cardNumber?null:e.cardNumber.touched))),n.xp6(1),n.Q6J("ngIf",(null==e.cardNumber?null:e.cardNumber.invalid)&&((null==e.cardNumber?null:e.cardNumber.dirty)||(null==e.cardNumber?null:e.cardNumber.touched))),n.xp6(5),n.ekj("invalid",(null==e.cardHolder?null:e.cardHolder.invalid)&&((null==e.cardHolder?null:e.cardHolder.dirty)||(null==e.cardHolder?null:e.cardHolder.touched))),n.xp6(1),n.Q6J("ngIf",(null==e.cardHolder?null:e.cardHolder.invalid)&&((null==e.cardHolder?null:e.cardHolder.dirty)||(null==e.cardHolder?null:e.cardHolder.touched))),n.xp6(5),n.ekj("invalid",(null==e.expirationDate?null:e.expirationDate.invalid)&&((null==e.expirationDate?null:e.expirationDate.dirty)||(null==e.expirationDate?null:e.expirationDate.touched))),n.xp6(1),n.Q6J("ngIf",(null==e.expirationDate?null:e.expirationDate.invalid)&&((null==e.expirationDate?null:e.expirationDate.dirty)||(null==e.expirationDate?null:e.expirationDate.touched))),n.xp6(5),n.ekj("invalid",(null==e.cvv?null:e.cvv.invalid)&&((null==e.cvv?null:e.cvv.dirty)||(null==e.cvv?null:e.cvv.touched))),n.xp6(1),n.Q6J("ngIf",(null==e.cvv?null:e.cvv.invalid)&&((null==e.cvv?null:e.cvv.dirty)||(null==e.cvv?null:e.cvv.touched))))},dependencies:[p.ez,p.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.error[_ngcontent-%COMP%]{color:red;font-size:12px}.link[_ngcontent-%COMP%]{position:relative;width:140px;top:-30px;color:#fff;text-decoration:none}.link[_ngcontent-%COMP%]:hover{width:140px;text-align:center;background-color:#79bbe7;color:#000;border-radius:15px;padding:5px 8px}body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;background-image:url(https://www.whats-on-netflix.com/wp-content/uploads/2023/06/whats-on-netflix-category-banner-jpg.webp);background-size:cover;background-position:center;height:100vh}.container[_ngcontent-%COMP%]{margin-left:60%;width:450px;height:370px;background-color:#f3d3d3d0;border-radius:20px}form[_ngcontent-%COMP%]{width:100%;height:70%;display:flex;flex-direction:column;justify-content:center;align-items:center}input[_ngcontent-%COMP%]{margin-left:20px}.inputs[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex;justify-content:space-between}span[_ngcontent-%COMP%]{margin-bottom:5px;margin-left:22PX}button[_ngcontent-%COMP%]{margin-top:25px;width:200px;height:40px;border:none;border-radius:20px;font-family:Kanit,sans-serif;font-weight:400;font-style:normal;background-color:#badaef}.cont[_ngcontent-%COMP%]{width:210px;display:flex;flex-direction:column}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:10px;font-family:Kanit,sans-serif;font-weight:400;font-style:normal}label[_ngcontent-%COMP%]{font-family:Cormorant Garamond,serif;font-weight:700;font-style:normal}input[_ngcontent-%COMP%]{border-radius:15px;border:none}@media screen and (max-width: 1200px){.container[_ngcontent-%COMP%]{max-width:100%;margin-right:15%}}@media screen and (max-width: 950px){.container[_ngcontent-%COMP%]{max-width:100%;margin-right:20%}}@media screen and (max-width: 800px){.container[_ngcontent-%COMP%]{max-width:100%;margin-right:60%}}@media screen and (max-width: 500px){.container[_ngcontent-%COMP%]{max-width:85%;margin-right:60%}}"]})}return r})()}}]);